!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("eventProxy",[],e):"object"==typeof exports?exports.eventProxy=e():t.eventProxy=e()}(this,(function(){return function(){"use strict";var t={d:function(e,n){for(var o in n)t.o(n,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:n[o]})},o:function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}},e={};function n(t){this.nextNode=null,this.callback=t}function o(t,e,o){o||(o=e,e=null),this._event=t,this.headNode=new n,this._nextNode=this.headNode;let i=this;this._callback=function(t){let e=t.target;for(;e!==this;)e.matches(o)&&(t.proxyDom=this,t.triggerDom=e,i.headNode.next(t)),e=e.parentElement},this._dom=e?document.querySelector(e):document.body}function i(t,e,n){return new o(t,e,n)}return t.d(e,{default:function(){return i}}),n.prototype.next=function(t){this.callback&&(this.nextNode?this.callback(t,(()=>this.nextNode.next(t))):this.callback(t))},o.prototype.use=function(t){return this._nextNode.callback=t,this._nextNode.nextNode=new n,this._nextNode=this._nextNode.nextNode,this},o.prototype.on=function(t){return this.use((function(e,n){t(e),n()})),this._dom.addEventListener(this._event,this._callback,!0),this},o.prototype.one=function(t){this.on(t),this.use((()=>this.off())),this._dom.addEventListener(this._event,this._callback)},o.prototype.off=function(){this._dom.removeEventListener(this._event,this._callback,!0)},o.prototype.destroy=function(){this.off(),this.headNode=null,this._nextNode=null,this._callback=null},e=e.default}()}));